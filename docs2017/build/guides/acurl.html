<html lang="en">
<head>
  <title>IBM&reg; Cloudant&reg; NoSQL DB for Bluemix&reg;</title>
  <meta charset="utf-8"></meta>
  <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
  <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
</head>

<body>
  <h1 id="authorized-curl-acurl-">Authorized curl: <code>acurl</code></h1>
  <p><em>(This guide is based on a Blog article by Samantha Scharr: <a href="https://cloudant.com/blog/authorized-curl-a-k-a-acurl/" target="_blank">
&quot;Authorized curl, a.k.a. acurl&quot; <img src="../images/launch-glyph.svg" alt="External link icon" title="External link icon"></a>,
originally published November 27, 2013.)</em></p>
  <p><code>acurl</code> is a handy alias that allows you to <code>curl</code> Cloudant commands to URLs without having to enter your username and password for every request. That means a simple <code>GET</code> to a database no longer needs to be written
    as
    <code>https://&lt;username&gt;:&lt;password&gt;@&lt;username&gt;.cloudant.com/foo</code> but instead you can just use <code>https://&lt;username&gt;.cloudant.com/foo</code>.</p>
  <p>Not only does this cut down on annoyingly long URLs, but the <code>acurl</code> alias is also more secure. It prevents someone from reading your password over your shoulder as you type, and importantly, it makes sure your password isn’t sent in plain
    text over the network by enforcing HTTPS.</p>
  <p>All it takes is three simple steps:</p>
  <ol>
    <li><a href="#encode-username-and-password">Encode username and password</a>.</li>
    <li><a href="#create-an-alias">Create an alias</a></li>
    <li><a href="#activate-the-alias">Activate the alias</a>.</li>
  </ol>
  <h2 id="encode-username-and-password">Encode username and password</h2>
  <p>First we base64-encode your Cloudant username and password. This gives us a base64 character sequence as output.</p>
  <p>The command to base64-encode some data is similar to the following example:</p>
  <pre class="codeblock"><code class="lang-python hljs">python -c <span class="hljs-string">'import base64; print base64.urlsafe_b64encode("&lt;username&gt;:&lt;password&gt;")'</span>
</code></pre>
  <p>We assume that the output is called <code>&lt;OUTPUT-OF-BASE64&gt;</code>.</p>
  <p>For example, if you use the command:</p>
  <pre class="codeblock"><code class="lang-python hljs">python -c <span class="hljs-string">'import base64; print base64.urlsafe_b64encode("myusername:mypassword")'</span>
</code></pre>
  <p>You then get the following output:</p>
  <pre class="codeblock"><code class="hljs">bXl1c2VybmFtZTpteXBhc3N3b3Jk
</code></pre>
  <blockquote>
    <p> <strong>Note</strong>: Remember that your password is still stored in plain text on your computer; base64-encoding is <em>not</em> encryption. If you use base64-encode on the same character sequence, you always get the same corresponding character
      output sequence.</p>
  </blockquote>
  <h2 id="create-an-alias">Create an alias</h2>
  <p>Now we create an alias for <code>curl</code> that includes these credentials so we don’t have to enter them every time we write a <code>curl</code> command.</p>
  <p>Add the following line to your <code>~/.bashrc</code> or <code>~/.bash_profile</code>:</p>
  <pre class="codeblock"><code class="lang-sh hljs"><span class="hljs-built_in">alias</span> acurl=<span class="hljs-string">"curl -s --proto '=https' -g -H 'Authorization: Basic &lt;OUTPUT-OF-BASE64&gt;'"</span>
</code></pre>
  <p>This alias adds an Authorization header instead of including the authorization credentials in the URL you enter on the command line. It also forces the use of HTTPS which we strongly recommend over plain HTTP as it encrypts your data and credentials
    in transit and helps you be sure you’re connecting to Cloudant systems.</p>
  <h2 id="activate-the-alias">Activate the alias</h2>
  <p>Now start a new shell or run <code>source ~/.bash_profile</code> (or <code>~/.bashrc</code> if you used that) to make the alias functional.</p>
  <h2 id="testing-acurl-">Testing <code>acurl</code></h2>
  <p>Now let&#39;s make sure everything is set up correctly. Go ahead and run:</p>
  <pre class="codeblock"><code class="lang-sh hljs">acurl https://&lt;username&gt;.cloudant.com/_all_dbs
</code></pre>
  <p>If you get the list of your databases back, awesome!
    <code>acurl</code> is set up and ready to go.</p>
  <p>Happy coding!</p>
  <footer>
    <div>
      <p>Copyright &copy; 2015, 2017. All Rights Reserved.</p>
    </div>
  </footer>
</body>
</html>